## FAQ, edge cases and limitations

Q: Is this an HTML parser?

A: No. This extractor uses regular expressions only. It purposefully avoids a DOM parser to remain lightweight and simple, but this means it has limitations (see below).

Limitations

- Nested or malformed HTML can confuse the regexes. While iterative removal helps in many cases, highly malformed markup or intentionally obfuscated HTML may not be cleaned perfectly.
- The extractor removes whole blocks by heuristics (tag names and attribute keywords). It may accidentally remove content that is semantically important if that content is placed inside a `nav`, `header`, or an element whose class contains a deny keyword.
- Inline elements that have semantic meaning (for example, elements used for markup like `<code>` inside paragraphs) are stripped of tags but their textual content remains. This preserves code text, but without formatting.

Edge cases

- Pages that store content in `<template>` elements or use heavy client-side rendering: the extractor removes `<template>` and `<script>` blocks, so you may not get the rendered textual content.
- Pages where the visible content is injected by JavaScript after load will not be recovered by this extractor â€” it only processes raw HTML as stored on disk.

Suggested improvements (low-risk)

- Use a lightweight HTML parser (for example lxml or BeautifulSoup) to implement a hybrid approach: parse and remove nodes by tag/class instead of relying purely on regexes. This would make removal of nodes safer and more robust to malformed HTML.
- Add a configuration option for the attribute keyword list used by `_ATTRIBUTE_KEYWORD_RE` so calling code can tweak which classes/ids are considered navigation in a given crawl.
- Add an allowlist mode where a small set of content-bearing selectors is retained and everything else is removed.

When to keep using this extractor

- The tool is small, fast, and works well on typical static HTML generated by server-side frameworks and on archived pages where the pipeline needs to be simple and dependency-free.
